{% extends "base_ledwall_control.html" %}

{% block content %}

<div class="container">
  <div class="row">
    <h4 class="card-title pl-3" id="tournament-name"></h4>
    <p id="created-at"></p>
    <p id="organizer"></p>
  </div>
  
  <div class="row">

    <h2>Events</h2>
    <ul id="events"></ul>
  </div>
  <div class="row">
    <h2>Courts</h2>
    <ul id="courts"></ul>
  </div>

  <div class="row">
    <div class="col">
      <button id="command-button" class="btn btn-primary command-button" data-command="showPage" data-content="info">Show Game</button>
    </div>
    <div class="col">
      <button id="command-button" class="btn btn-primary command-button" data-command="showPage" data-content="logo">Show Logo</button>
    </div>
    <div class="col">
      <button id="command-button" class="btn btn-primary command-button" data-command="showPage" data-content="advertise">Show Ads</button>
    </div>
    <div class="col">
      <button id="command-button" class="btn btn-primary command-button" data-command="showPage" data-content="weatherforecast">Weather</button>
    </div>
  </div>
</div>


  <div class="card-body">
    <h4 class="card-title pl-3">XS Grid
      <small>Always Horizontal</small>
    </h4>
    <div class="row">
      <div class="col-4">
        <div class="card">
          <div class="card-body text-center">
            <code>col-4</code>
          </div>
        </div>
      </div>
      <div class="col-4">
        <div class="card">
          <div class="card-body text-center">
            <code>col-4</code>
          </div>
        </div>
      </div>
      <div class="col-4">
        <div class="card">
          <div class="card-body text-center">
            <code>col-4</code>
          </div>
        </div>
      </div>
    </div>
    <h4 class="card-title pl-3">SM Grid
      <small>Collapsed at 576px</small>
    </h4>
    <div class="row">
      <div class="col-sm-4">
        <div class="card">
          <div class="card-body text-center">
            <code>col-sm-4</code>
          </div>
        </div>
      </div>
      <div class="col-sm-4">
        <div class="card">
          <div class="card-body text-center">
            <code>col-sm-4</code>
          </div>
        </div>
      </div>
      <div class="col-sm-4">
        <div class="card">
          <div class="card-body text-center">
            <code>col-sm-4</code>
          </div>
        </div>
      </div>
    </div>
    <h4 class="card-title pl-3">MD Grid
      <small>Collapsed at 768px</small>
    </h4>
    <div class="row">
      <div class="col-md-4">
        <div class="card">
          <div class="card-body text-center">
            <code>col-md-4</code>
          </div>
        </div>
      </div>
      <div class="col-md-4">
        <div class="card">
          <div class="card-body text-center">
            <code>col-md-4</code>
          </div>
        </div>
      </div>
      <div class="col-md-4">
        <div class="card">
          <div class="card-body text-center">
            <code>col-md-4</code>
          </div>
        </div>
      </div>
    </div>
    <h4 class="card-title pl-3">LG Grid
      <small>Collapsed at 992px</small>
    </h4>
    <div class="row">
      <div class="col-lg-4">
        <div class="card">
          <div class="card-body text-center">
            <code>col-lg-4</code>
          </div>
        </div>
      </div>
      <div class="col-lg-4">
        <div class="card">
          <div class="card-body text-center">
            <code>col-lg-4</code>
          </div>
        </div>
      </div>
      <div class="col-lg-4">
        <div class="card">
          <div class="card-body text-center">
            <code>col-lg-4</code>
          </div>
        </div>
      </div>
    </div>
    <h4 class="card-title pl-3">XL Grid
      <small>Collapsed at 1200px</small>
    </h4>
    <div class="row">
      <div class="col-xl-4">
        <div class="card">
          <div class="card-body text-center">
            <code>col-xl-4</code>
          </div>
        </div>
      </div>
      <div class="col-xl-4">
        <div class="card">
          <div class="card-body text-center">
            <code>col-xl-4</code>
          </div>
        </div>
      </div>
      <div class="col-xl-4">
        <div class="card">
          <div class="card-body text-center">
            <code>col-xl-4</code>
          </div>
        </div>
      </div>
    </div>
    <h4 class="card-title pl-3">Mixed Grid
      <small>Showing different sizes on different screens</small>
    </h4>
    <div class="row">
      <div class="col-sm-6 col-lg-3">
        <div class="card">
          <div class="card-body text-center">
            <code>col-sm-6 col-lg-3</code>
          </div>
        </div>
      </div>
      <div class="col-sm-6 col-lg-3">
        <div class="card">
          <div class="card-body text-center">
            <code>col-sm-6 col-lg-3</code>
          </div>
        </div>
      </div>
      <div class="col-sm-6 col-lg-3">
        <div class="card">
          <div class="card-body text-center">
            <code>col-sm-6 col-lg-3</code>
          </div>
        </div>
      </div>
      <div class="col-sm-6 col-lg-3">
        <div class="card">
          <div class="card-body text-center">
            <code>col-sm-6 col-lg-3</code>
          </div>
        </div>
      </div>
    </div>
    <h4 class="card-title pl-3">Offset Grid
      <small>Adding some space when needed</small>
    </h4>
    <div class="row">
      <div class="col-md-3">
        <div class="card">
          <div class="card-body text-center">
            <code>col-md-3</code>
          </div>
        </div>
      </div>
      <div class="col-md-3 ml-auto">
        <div class="card">
          <div class="card-body text-center">
            <code>col-md-3 ml-auto</code>
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-md-4 ml-auto mr-auto">
        <div class="card">
          <div class="card-body text-center">
            <code>col-md-4 ml-auto mr-auto</code>
          </div>
        </div>
      </div>
      <div class="col-md-4 ml-auto mr-auto">
        <div class="card">
          <div class="card-body text-center">
            <code>col-md-4 ml-auto mr-auto</code>
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-md-6 ml-auto mr-auto">
        <div class="card">
          <div class="card-body text-center">
            <code>col-md-6 ml-auto mr-auto</code>
          </div>
        </div>
      </div>
    </div>
  </div>


<div>
    <h1 id="tournament_id" style="display: none">{{ tournament_id }}</h1>
    <h1 id="court_id" style="display: none">{{ court_id }}</h1>
    <h1 id="mqtt_broker" style="display: none">{{ mqtt_broker }}</h1>
    <h1 id="mqtt_port" style="display: none">{{ mqtt_port }}</h1>
</div>

<script>
  $(document).ready(function() {
    var tournamentId = '{{ tournament_id }}';
    var url = 'http://127.0.0.1:8000/api/tournament/' + tournamentId + '/info/';
            

    $.ajax({
        url: url,  // Replace with your actual API endpoint
        method: 'GET',
        success: function(data) {
            if (!data.isError) {
                var message = data.message;

                $('#tournament-name').text(message.name);
                $('#created-at').text('Created at: ' + message.created_at);
                $('#organizer').text('Organizer ID: ' + message.organizer);

                var eventsList = $('#events');
                message.tournament_event.forEach(function(event) {
                    eventsList.append('<li>' + event.name + ' (' + event.category.name + ')</li>');
                });

                var courtsList = $('#courts');
                message.courts.forEach(function(court) {
                    courtsList.append('<li>' + court.name + ' (Number: ' + court.number + ') id: ' + court.id + '</li>');
                });
            } else {
                alert('Error: ' + data.errorCode);
            }
        },
        error: function() {
            alert('Failed to fetch data from the API');
        }
    });
});

    
</script>
{% endblock %}